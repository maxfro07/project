Роль sync
=========

Данная роль позволяет создать двухстороннюю синхронизацию файлов и папок, между серверами app01 и app02. Синхронизация осуществляется с помощью программы Unison.

Пример запуска роли
-----------------

```ansible-playbook role-sync.yml --extra-vars "target=web_servers" -u ubuntu --ask-become-pass --ask-vault-pass```

В этой команде:

* role-sync.yml - роль sync которая установит unison и настроет его
* target=web_servers - в переменной target мы указываем в какой группу серверов web_servers, на них пройдёт установка
* -u ubuntu - имя учётки, от которой будем делать установку
* --ask-become-pass - передать системе пароль sudo
* --ask-vault-pass - запрашивает пароль от Ansible vault. Так как у нас закрытый SSH ключ зашифрован.


Переменные
--------------

Для работы роли sync нам могут понадобится следующие переменные:

* unison_configs - список заданий, состоящий из name - названия, src - от куда копируем и dest - куда копируем.
* unison_cron - задаёт время по которому cron будет запускать синхронизацию.


Теги
----------------

* unison - тег, устанавливающий unison и его настройка
* unison_config - тег делающий только настройку unison
